document.addEventListener('DOMContentLoaded',function(){const validation=new JustValidate("#signup");validation.addField("#name",[{rule:"required",errorMessage:"Please enter name"}]).addField("#email",[{rule:"required",errorMessage:"Please enter email"},{rule:"email",errorMessage:"Email is invalid"},{validator:(value)=>()=>{return fetch("validate-email.php?email="+encodeURIComponent(value)).then(function(response){return response.json()}).then(function(json){return json.available})},errorMessage:"Email already taken"}]).addField("#password",[{rule:"required",errorMessage:"Please enter password"},{rule:"password",errorMessage:"Password must be at least 8 characters with numbers and letters"}]).addField("#password_confirmation",[{rule:"required",errorMessage:"Please confirm password"},{validator:(value,fields)=>{return value===fields["#password"].elem.value},errorMessage:"Passwords must match"}]).onSuccess((event)=>{event.preventDefault();event.target.submit()})})