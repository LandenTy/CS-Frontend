import{pythonKeywords}from './python-keywords.js';function setupCodeMirror(){const editor=CodeMirror.fromTextArea(document.getElementById("code"),{mode:"python",theme:"material",lineNumbers:!0,indentUnit:4,smartIndent:!0,matchBrackets:!0,autoCloseBrackets:!0,lineWrapping:!0,extraKeys:{"Ctrl-Space":"autocomplete"},hintOptions:{completeSingle:!1}});editor.on("inputRead",function(cm,change){if(change.text[0].match(/[\w\.]/)){cm.showHint({hint:CodeMirror.hint.python})}});CodeMirror.registerHelper("hint","python",function(cm){const cursor=cm.getCursor();const token=cm.getTokenAt(cursor);const start=token.start;const end=cursor.ch;const currentWord=token.string;const list=pythonKeywords.filter(function(item){return item.startsWith(currentWord)}).sort();return{list:list,from:CodeMirror.Pos(cursor.line,start),to:CodeMirror.Pos(cursor.line,end)}});editor.setValue("print('Hello, World!')");return editor}
export{setupCodeMirror}